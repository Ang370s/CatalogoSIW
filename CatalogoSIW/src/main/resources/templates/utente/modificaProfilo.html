<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Modifica Profilo</title>
    <link rel="stylesheet" th:href="@{/css/global.css}">
	<link rel="stylesheet" th:href="@{/css/modificaProfilo.css}">
	<link rel="stylesheet" th:href="@{/css/popup.css}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
	
	<!-- Checkbox nascosta che controlla la visibilità -->
	<input type="checkbox" id="chiudi-popup" hidden>

	<!-- Popup mostrato solo se 'errore' è presente -->
	<div class="popup error" th:if="${msgError}">
		<label for="chiudi-popup" class="close-btn" title="Chiudi">&times;</label>
		<p th:text="${msgError}"></p>
	</div>

	<!-- Header -->
	<header>
		<div class="container">
			<nav>
				<div class="logo">
					<span class="nav-links">
						<a th:href="@{/utente}">
							<i class="fa-solid fa-warehouse"></i>
							<span>CatalogoSIW</span>
						</a>
					</span>
				</div>
				
				<ul class="nav-links">
					<li><a th:href="@{/utente}">Catalogo</a></li>
					<li><a th:href="@{/logout}">LOGOUT</a></li>
					<li><a class="fa-solid fa-user" th:href="@{/utente/profilo}"></a></li>
		        </ul>
			</nav>
		</div>
	</header>
		
	<main class="main">
	<div class="form-container">
		
		<h1 class="utente-nome">Modifica profilo</h1>
				  
		<!-- Messaggio di successo -->
		<span th:if="${msgSuccess}" class="success-message" th:text="${msgSuccess}"></span>
		
		<!-- Messaggio di errore -->
		<span th:if="${msgError}" class="error-message" th:text="${msgError}"></span>
				  
		<form th:action="@{/utente/modificaProfilo}" method="POST" autocomplete="off" novalidate>
		    
			<!-- Campi del form -->
		    <div class="form-group">
		        <label for="nome">Nome</label>
		        <input type="text" th:field="${utente.nome}" placeholder="Inserisci nome" autocomplete="off"/>
		        <span class="form-feedback" th:if="${#fields.hasErrors('utente.nome')}" th:errors="${utente.nome}"></span>
		    </div>

		    <div class="form-group">
		        <label for="cognome">Cognome</label>
		        <input type="text" th:field="${utente.cognome}" placeholder="Inserisci cognome" autocomplete="off"/>
		        <span class="form-feedback" th:if="${#fields.hasErrors('utente.cognome')}" th:errors="${utente.cognome}"></span>
		    </div>

			<div class="form-group">
				<label for="username">Username</label>
				<input type="text" th:field="${credentials.username}" placeholder="Scegli uno username" autocomplete="off"/>
				<span class="form-feedback" th:if="${#fields.hasErrors('credentials.username')}" th:errors="${credentials.username}"></span>
			</div>

		    <div class="form-group">
		        <label for="email">Email</label>
		        <input type="email" th:field="${utente.email}" placeholder="Inserisci email"/>
		        <span class="form-feedback" th:if="${#fields.hasErrors('utente.email')}" th:errors="${utente.email}"></span>
		    </div>

		    <!-- Bottoni -->
		    <div class="form-actions">
				<button class="cta-button edit-profile-button" type="submit">Conferma</button>
		        <a th:href="@{/utente/profilo}" class="cta-button cancel-button">Annulla</a>
		    </div>
		</form>

	</div>
	</main>


	<!-- Footer -->
	<footer>
		<div class="container">
			<div class="footer-content">
				<div class="logo">
					<i class="fa-solid fa-warehouse"></i>
					<span>CatalogoSIW</span>
				</div>
				<div class="social-icons">
					<a href="#"><i class="fab fa-whatsapp"></i></a>
					<a href="#"><i class="fab fa-facebook-f"></i></a>
					<a href="#"><i class="fab fa-instagram"></i></a>
					<a href="#"><i class="fab fa-twitter"></i></a>
				</div>
				<div class="copyright">
					<p>&copy; 2025 CatalogoSIW - Tutti i diritti riservati.</p>
				</div>
			</div>
		</div>
	</footer>
</body>
</html>